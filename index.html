<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Kumpulan File Download</title>
    <link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

</head>
<body>

<h2 style="text-align:center;margin-top:20px">ğŸ“ LIST DOWNLOAD</h2>
<div class="grid" id="list"></div>

<script>
const supabase = supabase.createClient("https://sqyftyxqfptggpvwdvlm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNxeWZ0eXhxZnB0Z2dwdndkdmxtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5MDU3MDEsImV4cCI6MjA4MDQ4MTcwMX0.TO95Q_mRrp7lfwexCnooVuTKy3fWavRaHFiSvTr6KQs");

async function loadFiles(){
    let { data } = await supabase.from("files").select("*").order("created_at",{ascending:false});
    let list = document.getElementById("list");
    list.innerHTML="";

    data.forEach(f=>{
        let card=document.createElement("div");
        card.className="card";
        card.innerHTML=`
        <img src="${f.image_url}">
        <h3><a href="${f.file_url}" target="_blank">${f.title}</a></h3>
        `;
        list.appendChild(card);
    })
}
loadFiles();
</script>

</body>
</html>
